"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[6901],{2726:(re,B,P)=>{P.d(B,{Uw:()=>u,fo:()=>F});var g=P(5861);typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"&&global;var U=function(n){return n.Unimplemented="UNIMPLEMENTED",n.Unavailable="UNAVAILABLE",n}(U||{});class R extends Error{constructor(e,t,i){super(e),this.message=e,this.code=t,this.data=i}}const D=n=>{var e,t,i,a,o;const d=n.CapacitorCustomPlatform||null,s=n.Capacitor||{},v=s.Plugins=s.Plugins||{},f=n.CapacitorPlatforms,j=(null===(e=f?.currentPlatform)||void 0===e?void 0:e.getPlatform)||(()=>null!==d?d.name:(n=>{var e,t;return n?.androidBridge?"android":null!==(t=null===(e=n?.webkit)||void 0===e?void 0:e.messageHandlers)&&void 0!==t&&t.bridge?"ios":"web"})(n)),le=(null===(t=f?.currentPlatform)||void 0===t?void 0:t.isNativePlatform)||(()=>"web"!==j()),ue=(null===(i=f?.currentPlatform)||void 0===i?void 0:i.isPluginAvailable)||(m=>{const h=V.get(m);return!(!h?.platforms.has(j())&&!ee(m))}),ee=(null===(a=f?.currentPlatform)||void 0===a?void 0:a.getPluginHeader)||(m=>{var h;return null===(h=s.PluginHeaders)||void 0===h?void 0:h.find(S=>S.name===m)}),V=new Map,he=(null===(o=f?.currentPlatform)||void 0===o?void 0:o.registerPlugin)||((m,h={})=>{const S=V.get(m);if(S)return console.warn(`Capacitor plugin "${m}" already registered. Cannot register plugins twice.`),S.proxy;const x=j(),W=ee(m);let Z;const ve=function(){var p=(0,g.Z)(function*(){return!Z&&x in h?Z=Z="function"==typeof h[x]?yield h[x]():h[x]:null!==d&&!Z&&"web"in h&&(Z=Z="function"==typeof h.web?yield h.web():h.web),Z});return function(){return p.apply(this,arguments)}}(),Y=p=>{let y;const L=(...T)=>{const k=ve().then(w=>{const A=((p,y)=>{var L,T;if(!W){if(p)return null===(T=p[y])||void 0===T?void 0:T.bind(p);throw new R(`"${m}" plugin is not implemented on ${x}`,U.Unimplemented)}{const k=W?.methods.find(w=>y===w.name);if(k)return"promise"===k.rtype?w=>s.nativePromise(m,y.toString(),w):(w,A)=>s.nativeCallback(m,y.toString(),w,A);if(p)return null===(L=p[y])||void 0===L?void 0:L.bind(p)}})(w,p);if(A){const z=A(...T);return y=z?.remove,z}throw new R(`"${m}.${p}()" is not implemented on ${x}`,U.Unimplemented)});return"addListener"===p&&(k.remove=(0,g.Z)(function*(){return y()})),k};return L.toString=()=>`${p.toString()}() { [capacitor code] }`,Object.defineProperty(L,"name",{value:p,writable:!1,configurable:!1}),L},te=Y("addListener"),ne=Y("removeListener"),Pe=(p,y)=>{const L=te({eventName:p},y),T=function(){var w=(0,g.Z)(function*(){const A=yield L;ne({eventName:p,callbackId:A},y)});return function(){return w.apply(this,arguments)}}(),k=new Promise(w=>L.then(()=>w({remove:T})));return k.remove=(0,g.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield T()}),k},q=new Proxy({},{get(p,y){switch(y){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return W?Pe:te;case"removeListener":return ne;default:return Y(y)}}});return v[m]=q,V.set(m,{name:m,proxy:q,platforms:new Set([...Object.keys(h),...W?[x]:[]])}),q});return s.convertFileSrc||(s.convertFileSrc=m=>m),s.getPlatform=j,s.handleError=m=>n.console.error(m),s.isNativePlatform=le,s.isPluginAvailable=ue,s.pluginMethodNoop=(m,h,S)=>Promise.reject(`${S} does not have an implementation of "${h}".`),s.registerPlugin=he,s.Exception=R,s.DEBUG=!!s.DEBUG,s.isLoggingEnabled=!!s.isLoggingEnabled,s.platform=s.getPlatform(),s.isNative=s.isNativePlatform(),s},$=(n=>n.Capacitor=D(n))(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),F=$.registerPlugin;class u{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,t){var i=this;this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t);const o=this.windowListeners[e];o&&!o.registered&&this.addWindowListener(o);const d=function(){var v=(0,g.Z)(function*(){return i.removeListener(e,t)});return function(){return v.apply(this,arguments)}}(),s=Promise.resolve({remove:d});return Object.defineProperty(s,"remove",{value:(v=(0,g.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield d()}),function(){return v.apply(this,arguments)})}),s;var v}removeAllListeners(){var e=this;return(0,g.Z)(function*(){e.listeners={};for(const t in e.windowListeners)e.removeWindowListener(e.windowListeners[t]);e.windowListeners={}})()}notifyListeners(e,t){const i=this.listeners[e];i&&i.forEach(a=>a(t))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,t){this.windowListeners[t]={registered:!1,windowEventName:e,pluginEventName:t,handler:i=>{this.notifyListeners(t,i)}}}unimplemented(e="not implemented"){return new $.Exception(e,U.Unimplemented)}unavailable(e="not available"){return new $.Exception(e,U.Unavailable)}removeListener(e,t){var i=this;return(0,g.Z)(function*(){const a=i.listeners[e];if(!a)return;const o=a.indexOf(t);i.listeners[e].splice(o,1),i.listeners[e].length||i.removeWindowListener(i.windowListeners[e])})()}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const l=n=>encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),c=n=>n.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class b extends u{getCookies(){return(0,g.Z)(function*(){const e=document.cookie,t={};return e.split(";").forEach(i=>{if(i.length<=0)return;let[a,o]=i.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");a=c(a).trim(),o=c(o).trim(),t[a]=o}),t})()}setCookie(e){return(0,g.Z)(function*(){try{const t=l(e.key),i=l(e.value),a=`; expires=${(e.expires||"").replace("expires=","")}`,o=(e.path||"/").replace("path=",""),d=null!=e.url&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${t}=${i||""}${a}; path=${o}; ${d};`}catch(t){return Promise.reject(t)}})()}deleteCookie(e){return(0,g.Z)(function*(){try{document.cookie=`${e.key}=; Max-Age=0`}catch(t){return Promise.reject(t)}})()}clearCookies(){return(0,g.Z)(function*(){try{const e=document.cookie.split(";")||[];for(const t of e)document.cookie=t.replace(/^ +/,"").replace(/=.*/,`=;expires=${(new Date).toUTCString()};path=/`)}catch(e){return Promise.reject(e)}})()}clearAllCookies(){var e=this;return(0,g.Z)(function*(){try{yield e.clearCookies()}catch(t){return Promise.reject(t)}})()}}F("CapacitorCookies",{web:()=>new b});const E=function(){var n=(0,g.Z)(function*(e){return new Promise((t,i)=>{const a=new FileReader;a.onload=()=>{const o=a.result;t(o.indexOf(",")>=0?o.split(",")[1]:o)},a.onerror=o=>i(o),a.readAsDataURL(e)})});return function(t){return n.apply(this,arguments)}}();class ae extends u{request(e){return(0,g.Z)(function*(){const t=((n,e={})=>{const t=Object.assign({method:n.method||"GET",headers:n.headers},e),a=((n={})=>{const e=Object.keys(n);return Object.keys(n).map(a=>a.toLocaleLowerCase()).reduce((a,o,d)=>(a[o]=n[e[d]],a),{})})(n.headers)["content-type"]||"";if("string"==typeof n.data)t.body=n.data;else if(a.includes("application/x-www-form-urlencoded")){const o=new URLSearchParams;for(const[d,s]of Object.entries(n.data||{}))o.set(d,s);t.body=o.toString()}else if(a.includes("multipart/form-data")){const o=new FormData;if(n.data instanceof FormData)n.data.forEach((s,v)=>{o.append(v,s)});else for(const s of Object.keys(n.data))o.append(s,n.data[s]);t.body=o;const d=new Headers(t.headers);d.delete("content-type"),t.headers=d}else(a.includes("application/json")||"object"==typeof n.data)&&(t.body=JSON.stringify(n.data));return t})(e,e.webFetchExtra),i=((n,e=!0)=>n?Object.entries(n).reduce((i,a)=>{const[o,d]=a;let s,v;return Array.isArray(d)?(v="",d.forEach(f=>{s=e?encodeURIComponent(f):f,v+=`${o}=${s}&`}),v.slice(0,-1)):(s=e?encodeURIComponent(d):d,v=`${o}=${s}`),`${i}&${v}`},"").substr(1):null)(e.params,e.shouldEncodeUrlParams),a=i?`${e.url}?${i}`:e.url,o=yield fetch(a,t),d=o.headers.get("content-type")||"";let v,f,{responseType:s="text"}=o.ok?e:{};switch(d.includes("application/json")&&(s="json"),s){case"arraybuffer":case"blob":f=yield o.blob(),v=yield E(f);break;case"json":v=yield o.json();break;default:v=yield o.text()}const G={};return o.headers.forEach((j,K)=>{G[K]=j}),{data:v,headers:G,status:o.status,url:o.url}})()}get(e){var t=this;return(0,g.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"GET"}))})()}post(e){var t=this;return(0,g.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"POST"}))})()}put(e){var t=this;return(0,g.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PUT"}))})()}patch(e){var t=this;return(0,g.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"PATCH"}))})()}delete(e){var t=this;return(0,g.Z)(function*(){return t.request(Object.assign(Object.assign({},e),{method:"DELETE"}))})()}}F("CapacitorHttp",{web:()=>new ae})},6901:(re,B,P)=>{P.r(B),P.d(B,{LoginPageModule:()=>X});var g=P(6814),I=P(95),_=P(3582),M=P(467),O=P(5861),r=P(6689),H=P(4414),U=P(6466);const J=(0,P(2726).fo)("Preferences",{web:()=>P.e(899).then(P.bind(P,899)).then(u=>new u.PreferencesWeb)}),D="usuarioData";let N=(()=>{class u{constructor(){}setItem(l,c){return(0,O.Z)(function*(){yield J.set({key:l,value:c})})()}getItem(l){return(0,O.Z)(function*(){return(yield J.get({key:l})).value})()}guargarUsuario(l){var c=this;return(0,O.Z)(function*(){var b=yield c.obtenerUsuario();for(const C of b)C&&l.push(C);c.setItem(D,JSON.stringify(l))})()}obtenerUsuario(){var l=this;return(0,O.Z)(function*(){const c=yield l.getItem(D);return null==c?[]:JSON.parse(c)||[]})()}static#e=this.\u0275fac=function(c){return new(c||u)};static#t=this.\u0275prov=r.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})();const F=[{path:"",component:(()=>{class u{constructor(l,c,b,C,E){this.navCtrl=l,this.toastCtrl=c,this.authService=b,this.router=C,this.storage=E,this.username="",this.password=""}login(){var l=this;return(0,O.Z)(function*(){if(""!==l.username&&""!==l.password)if(l.username.length<4&&l.username.length>8)l.showToast("El nombre de usuario debe contener 4 a 8 caracteres.");else if(l.password.length<4&&l.password.length>8)l.showToast("La contrase\xf1a debe ser un n\xfamero de 4 d\xedgitos.");else try{(yield l.authService.login(l.username,l.password))?l.router.navigate(["/qr"]):l.showToast("Credenciales incorrectas")}catch(c){console.error(c),l.showToast("Error al intentar iniciar sesi\xf3n")}else l.showToast("Por favor, ingrese los valores solicitados.")})()}showToast(l){var c=this;return(0,O.Z)(function*(){yield(yield c.toastCtrl.create({message:l,duration:3e3,position:"top"})).present()})()}iraRestaurar(){this.router.navigate(["/restaurar"])}iraInicio(){this.router.navigate(["/home"])}navigateToLogin(){this.router.navigate(["/login"])}navigateToRegistro(){this.router.navigate(["/registro"])}static#e=this.\u0275fac=function(c){return new(c||u)(r.Y36(H.SH),r.Y36(H.yF),r.Y36(U.e),r.Y36(M.F0),r.Y36(N))};static#t=this.\u0275cmp=r.Xpm({type:u,selectors:[["app-login"]],decls:26,vars:2,consts:[[1,"ion-padding"],[1,"ion-text-center","ion-padding"],[1,"titulo_principal"],[1,"ion-text-center"],[1,"titulo_secundario"],["position","floating"],["type","text",3,"ngModel","ngModelChange"],["type","password",3,"ngModel","ngModelChange"],[1,"ion-text-center","ion-align-items-center"],["color","success",1,"btn_iniciar",3,"click"],["color","success",1,"link_olvido",3,"click"],[1,"div_volver"],[1,"link_volver",3,"click"]],template:function(c,b){1&c&&(r.TgZ(0,"ion-content",0)(1,"div",1)(2,"ion-text",2),r._uU(3,"Vault-Tec"),r.qZA(),r.TgZ(4,"div",3)(5,"ion-text",4),r._uU(6,"Iniciar Sesi\xf3n"),r.qZA()(),r._UZ(7,"p"),r.qZA(),r.TgZ(8,"ion-item")(9,"ion-label",5),r._uU(10,"Usuario"),r.qZA(),r.TgZ(11,"ion-input",6),r.NdJ("ngModelChange",function(E){return b.username=E}),r.qZA()(),r.TgZ(12,"ion-item")(13,"ion-label",5),r._uU(14,"Contrase\xf1a"),r.qZA(),r.TgZ(15,"ion-input",7),r.NdJ("ngModelChange",function(E){return b.password=E}),r.qZA()(),r.TgZ(16,"ion-content")(17,"div",8)(18,"ion-button",9),r.NdJ("click",function(){return b.login()}),r._uU(19,"Iniciar sesi\xf3n"),r.qZA()(),r.TgZ(20,"div",8)(21,"a",10),r.NdJ("click",function(){return b.iraRestaurar()}),r._uU(22,"\xbfOlvido su contrase\xf1a?"),r.qZA()(),r.TgZ(23,"div",11)(24,"a",12),r.NdJ("click",function(){return b.iraInicio()}),r._uU(25,"Volver al inicio"),r.qZA()()()()),2&c&&(r.xp6(11),r.Q6J("ngModel",b.username),r.xp6(4),r.Q6J("ngModel",b.password))},dependencies:[I.JJ,I.On,_.YG,_.W2,_.pK,_.Ie,_.Q$,_.yW,_.j9],styles:[".btn_iniciar[_ngcontent-%COMP%]{margin-top:10px;margin-right:5px;margin-bottom:15px}.link_olvido[_ngcontent-%COMP%]{text-decoration:none;color:#2dd36f}.titulo_principal[_ngcontent-%COMP%]{font-size:55px}.titulo_secundario[_ngcontent-%COMP%]{font-size:25px}.div_volver[_ngcontent-%COMP%]{position:absolute;margin-top:100px;left:0;padding:10px}.link_volver[_ngcontent-%COMP%]{color:#fff;text-decoration:none}"]})}return u})()}];let Q=(()=>{class u{static#e=this.\u0275fac=function(c){return new(c||u)};static#t=this.\u0275mod=r.oAB({type:u});static#n=this.\u0275inj=r.cJS({imports:[M.Bz.forChild(F),M.Bz]})}return u})(),X=(()=>{class u{static#e=this.\u0275fac=function(c){return new(c||u)};static#t=this.\u0275mod=r.oAB({type:u});static#n=this.\u0275inj=r.cJS({imports:[g.ez,I.u5,_.Pc,Q]})}return u})()}}]);