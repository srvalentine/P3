{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Duoc/Desktop/master/carlos_rama/P3/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"../auth.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"../services/storage.service\";\nimport * as i5 from \"@angular/forms\";\nlet LoginPage = /*#__PURE__*/(() => {\n  class LoginPage {\n    constructor(navCtrl, toastCtrl, authService, router, storage) {\n      this.navCtrl = navCtrl;\n      this.toastCtrl = toastCtrl;\n      this.authService = authService;\n      this.router = router;\n      this.storage = storage;\n      this.username = '';\n      this.password = '';\n    }\n    login() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        if (_this.username === '' || _this.password === '') {\n          _this.showToast('Por favor, ingrese los valores solicitados.');\n          return;\n        }\n        if (_this.username.length < 4 && _this.username.length > 8) {\n          _this.showToast('El nombre de usuario debe contener 4 a 8 caracteres.');\n          return;\n        }\n        if (_this.password.length < 4 && _this.password.length > 8) {\n          _this.showToast('La contraseña debe ser un número de 4 dígitos.');\n          return;\n        }\n        try {\n          const loginResult = yield _this.authService.login(_this.username, _this.password);\n          if (loginResult) {\n            _this.router.navigate(['/qr']);\n          } else {\n            _this.showToast(\"Credenciales incorrectas\");\n          }\n        } catch (error) {\n          console.error(error);\n          _this.showToast(\"Error al intentar iniciar sesión\");\n        }\n      })();\n    }\n    showToast(message) {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        const toast = yield _this2.toastCtrl.create({\n          message: message,\n          duration: 3000,\n          position: 'top'\n        });\n        yield toast.present();\n      })();\n    }\n    iraRestaurar() {\n      this.router.navigate(['/restaurar']);\n    }\n    iraInicio() {\n      this.router.navigate(['/home']);\n    }\n    navigateToLogin() {\n      this.router.navigate(['/login']);\n    }\n    navigateToRegistro() {\n      this.router.navigate(['/registro']);\n    }\n    static #_ = this.ɵfac = function LoginPage_Factory(t) {\n      return new (t || LoginPage)(i0.ɵɵdirectiveInject(i1.NavController), i0.ɵɵdirectiveInject(i1.ToastController), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.StorageService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: LoginPage,\n      selectors: [[\"app-login\"]],\n      decls: 26,\n      vars: 2,\n      consts: [[1, \"ion-padding\"], [1, \"ion-text-center\", \"ion-padding\"], [1, \"titulo_principal\"], [1, \"ion-text-center\"], [1, \"titulo_secundario\"], [\"position\", \"floating\"], [\"type\", \"text\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", 3, \"ngModel\", \"ngModelChange\"], [1, \"ion-text-center\", \"ion-align-items-center\"], [\"color\", \"success\", 1, \"btn_iniciar\", 3, \"click\"], [\"color\", \"success\", 1, \"link_olvido\", 3, \"click\"], [1, \"div_volver\"], [1, \"link_volver\", 3, \"click\"]],\n      template: function LoginPage_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"ion-content\", 0)(1, \"div\", 1)(2, \"ion-text\", 2);\n          i0.ɵɵtext(3, \"Vault-Tec\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\", 3)(5, \"ion-text\", 4);\n          i0.ɵɵtext(6, \"Iniciar Sesi\\u00F3n\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(7, \"p\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"ion-item\")(9, \"ion-label\", 5);\n          i0.ɵɵtext(10, \"Usuario\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"ion-input\", 6);\n          i0.ɵɵlistener(\"ngModelChange\", function LoginPage_Template_ion_input_ngModelChange_11_listener($event) {\n            return ctx.username = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(12, \"ion-item\")(13, \"ion-label\", 5);\n          i0.ɵɵtext(14, \"Contrase\\u00F1a\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"ion-input\", 7);\n          i0.ɵɵlistener(\"ngModelChange\", function LoginPage_Template_ion_input_ngModelChange_15_listener($event) {\n            return ctx.password = $event;\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(16, \"ion-content\")(17, \"div\", 8)(18, \"ion-button\", 9);\n          i0.ɵɵlistener(\"click\", function LoginPage_Template_ion_button_click_18_listener() {\n            return ctx.login();\n          });\n          i0.ɵɵtext(19, \"Iniciar sesi\\u00F3n\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(20, \"div\", 8)(21, \"a\", 10);\n          i0.ɵɵlistener(\"click\", function LoginPage_Template_a_click_21_listener() {\n            return ctx.iraRestaurar();\n          });\n          i0.ɵɵtext(22, \"\\u00BFOlvido su contrase\\u00F1a?\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(23, \"div\", 11)(24, \"a\", 12);\n          i0.ɵɵlistener(\"click\", function LoginPage_Template_a_click_24_listener() {\n            return ctx.iraInicio();\n          });\n          i0.ɵɵtext(25, \"Volver al inicio\");\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(11);\n          i0.ɵɵproperty(\"ngModel\", ctx.username);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngModel\", ctx.password);\n        }\n      },\n      dependencies: [i5.NgControlStatus, i5.NgModel, i1.IonButton, i1.IonContent, i1.IonInput, i1.IonItem, i1.IonLabel, i1.IonText, i1.TextValueAccessor],\n      styles: [\".btn_iniciar[_ngcontent-%COMP%]{margin-top:10px;margin-right:5px;margin-bottom:15px}.link_olvido[_ngcontent-%COMP%]{text-decoration:none;color:#2dd36f}.titulo_principal[_ngcontent-%COMP%]{font-size:55px}.titulo_secundario[_ngcontent-%COMP%]{font-size:25px}.div_volver[_ngcontent-%COMP%]{position:absolute;margin-top:100px;left:0;padding:10px}.link_volver[_ngcontent-%COMP%]{color:#fff;text-decoration:none}\"]\n    });\n  }\n  return LoginPage;\n})();\nexport { LoginPage };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}